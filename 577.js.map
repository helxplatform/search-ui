{"version":3,"sources":["webpack:///./src/components/pagination-tray/pagination-tray.js","webpack:///./src/components/context.js","webpack:///./src/components/form/form.js","webpack:///./src/components/kg-links.js","webpack:///./src/components/link.js","webpack:///./src/components/knowledge-graphs/knowledge-graphs.js","webpack:///./src/components/results/results.js","webpack:///./src/components/result-card/overview-tab.js","webpack:///./src/components/result-card/studies-tab.js","webpack:///./src/components/result-card/knowledge-graphs-tab.js","webpack:///./src/components/result-card/result-card.js","webpack:///./src/components/result-modal/result-modal.js","webpack:///./src/components/variables-list.js"],"names":["PaginationTray","useHelxSearch","basePath","query","totalResults","currentPage","Space","role","aria-label","className","Pagination","current","defaultPageSize","total","showTotal","onChange","page","pageSize","navigate","showSizeChanger","HelxSearchContext","createContext","useContext","tempSearchFacets","sort","f","g","toLowerCase","HelxSearch","searchURL","children","useState","setQuery","isLoadingResults","setIsLoadingResults","error","setError","results","setResults","setTotalResults","setCurrentPage","pageCount","setPageCount","location","useLocation","selectedResult","setSelectedResult","inputRef","useRef","useNavigate","useEffect","handleKeyPress","event","keyCode","preventDefault","select","window","scroll","top","addEventListener","removeEventListener","queryParams","URLSearchParams","search","get","validationReducer","buckets","hit","result","description","trim","name","valid","invalid","params","index","offset","size","axios","response","status","data","hits","unsortedHits","map","r","_source","reduce","length","console","total_items","log","message","fetchResults","Math","ceil","fetchKnowledgeGraphs","useCallback","tag_id","unique_id","graph","knowledge_graph","fetchStudyVariables","_id","_query","concept","Provider","value","doSearch","queryString","trimmedQuery","perPage","facets","SearchResultModal","visible","closeHandler","SearchForm","searchTerm","setSearchTerm","Form","onFinish","src","HeLxLogo","width","Input","ref","allowClear","autoFocus","placeholder","target","onKeyDown","Button","htmlType","type","biolink_lookup","kgLink","curie","splitCurrie","split","prefix","suffix","Object","keys","find","k","ExternalLink","to","href","rel","Link","props","mailtoPattern","RegExp","externalUrlMatch","exec","mailtoMatch","LinkComponent","ReactLink","KnowledgeGraph","interactions","setInteractions","nodes","forEach","sourceNode","outgoingEdge","edges","edge","source_id","id","targetNode","node","target_id","newInteraction","source","publications","interaction","i","Fragment","publication","replace","NoKnowledgeGraphsMessage","KnowledgeGraphs","graphs","Text","Typography","GRID","SearchResults","layout","setLayout","NotifyLinkCopied","notification","key","navigator","clipboard","writeText","handleChangeLayout","MemoizedResultsHeader","useMemo","Tooltip","title","placement","onClick","Radio","Spin","style","display","margin","SearchResultCard","openModalHandler","Meta","Card","OverviewTab","direction","CheckableFacet","Tag","StudiesTab","studyVariables","setStudyVariables","setFacets","selectedFacets","setSelectedFacets","loading","setLoading","getVars","facet","checked","includes","newSelection","Set","has","add","handleSelectFacet","List","dataSource","filter","arr","s","t","c_name","renderItem","item","c_link","c_id","elements","KnowledgeGraphsTab","setGraphs","kgs","getKgs","currentTab","setCurrentTab","tabs","content","tabList","tab","tabContents","obj","tabProps","activeTabKey","onTabChange","extra","actions","propTypes","PropTypes","Title","level","studies","setStudies","Modal","onOk","okText","onCancel","bodyStyle","padding","minHeight","cancelButtonProps","hidden","align","Menu","height","defaultSelectedKeys","mode","theme","e_link","isRequired"],"mappings":"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","file":"577.js","sourcesContent":["import { navigate } from '@reach/router'\nimport { Pagination, Space } from 'antd'\nimport { useHelxSearch } from '../'\nimport './pagination-tray.css'\n\nexport const PaginationTray = () => {\n  const { basePath, query, totalResults, currentPage } = useHelxSearch()\n\n  return (\n    <Space role=\"navigation\" aria-label=\"Pagination Navigation\" className=\"pagination-tray\">\n      <Pagination\n        current={ currentPage }\n        defaultPageSize={20}\n        total={ totalResults }\n        showTotal={total => `${ total } results`}\n        onChange={ (page, pageSize) => navigate(`${ basePath }?q=${ query }&p=${ page }`) }\n        showSizeChanger={ false }\n      />\n    </Space>\n  )\n}\n","import React, { createContext, useCallback, useContext, useEffect, useRef, useState } from 'react'\nimport axios from 'axios'\nimport { useLocation, useNavigate } from '@reach/router'\nimport './search.css'\nimport { SearchResultModal } from './'\n\n//\n\nexport const HelxSearchContext = createContext({})\nexport const useHelxSearch = () => useContext(HelxSearchContext)\n\n//\n\nconst PER_PAGE = 20\nconst tempSearchFacets = [\n  'ALL',\n  'Biolink',\n  'CDE',\n  'Harmonized',\n  'LOINC',\n  'PhenX',\n].sort((f, g) => f.toLowerCase() < g.toLowerCase() ? -1 : 1)\n\n//\n\nconst validateResult = result => {\n  return result.description.trim() && result.name.trim()\n}\n\nexport const HelxSearch = ({ searchURL = 'https://helx.renci.org', basePath = '', children }) => {\n  const [query, setQuery] = useState('')\n  const [isLoadingResults, setIsLoadingResults] = useState(false);\n  const [error, setError] = useState({})\n  const [results, setResults] = useState([])\n  const [totalResults, setTotalResults] = useState(0)\n  const [currentPage, setCurrentPage] = useState(1)\n  const [pageCount, setPageCount] = useState(0)\n  const location = useLocation()\n  const [selectedResult, setSelectedResult] = useState(null)\n\n  const inputRef = useRef()\n  const navigate = useNavigate()\n\n  useEffect(() => {\n    // this lets the user press backslash to jump focus to the search box\n    const handleKeyPress = event => {\n      if (event.keyCode === 220) { // backslash (\"\\\") key \n        if (inputRef.current) {\n          event.preventDefault()\n          inputRef.current.select()\n          window.scroll({ top: 0 })\n        }\n      }\n    }\n    window.addEventListener('keydown', handleKeyPress)\n    return () => window.removeEventListener('keydown', handleKeyPress)\n  }, [])\n\n  useEffect(() => {\n    const queryParams = new URLSearchParams(window.location.search)\n    setQuery(queryParams.get('q') || '')\n    setCurrentPage(+queryParams.get('p') || 1)\n  }, [location.search])\n\n  const validationReducer = (buckets, hit) => {\n    const valid = validateResult(hit)\n    if (valid) {\n      return { valid: [...buckets.valid, hit], invalid: buckets.invalid }\n    } else {\n      return { valid: buckets.valid, invalid: [...buckets.invalid, hit] }\n    }\n  }\n\n  useEffect(() => {\n    const fetchResults = async () => {\n      setIsLoadingResults(true)\n      try {\n        const params = {\n          index: 'concepts_index',\n          query: query,\n          offset: (currentPage - 1) * PER_PAGE,\n          size: PER_PAGE,\n        }\n        const response = await axios.post(`${searchURL}/search`, params)\n        if (response.status === 200 && response.data.status === 'success' && response?.data?.result?.hits) {\n          const unsortedHits = response.data.result.hits.hits.map(r => r._source)\n          // gather invalid results: remove from rendered results and dump to console.\n          let hits = unsortedHits.reduce(validationReducer, { valid: [], invalid: [] })\n          if (hits.invalid.length) {\n            console.error(`The following ${ hits.invalid.length } invalid results ` + \n              `were removed from the ${ hits.valid.length + hits.invalid.length } ` +\n              `returned results:`, hits.invalid)\n          }\n          setResults(hits.valid)\n          setTotalResults(response.data.result.total_items)\n          setIsLoadingResults(false)\n        } else {\n          setResults([])\n          setTotalResults(0)\n          setIsLoadingResults(false)\n        }\n      } catch (error) {\n        console.log(error)\n        setError({ message: 'An error occurred!' })\n        setIsLoadingResults(false)\n      }\n    }\n    if (query) {\n      fetchResults()\n    }\n  }, [query, currentPage, searchURL, setResults, setError])\n\n  useEffect(() => {\n    setPageCount(Math.ceil(totalResults / PER_PAGE))\n  }, [totalResults])\n\n  const fetchKnowledgeGraphs = useCallback(async (tag_id) => {\n    try {\n      const { data } =  await axios.post(`${searchURL}/search_kg`, {\n        index: 'kg_index',\n        unique_id: tag_id,\n        query: query,\n        size: 100,\n      })\n      if (!data || data.result.total_items === 0) {\n        return []\n      }\n      return data.result.hits.hits.map(graph => graph._source.knowledge_graph.knowledge_graph)\n    } catch (error) {\n      console.error(error)\n    }\n  }, [searchURL, results])\n\n  const fetchStudyVariables = useCallback(async (_id, _query) => {\n    try {\n      const { data } = await axios.post(`${searchURL}/search_var`, {\n        concept: _id,\n        index: 'variables_index',\n        query: _query,\n        size: 1000\n      })\n      if (!data) {\n        return []\n      }\n      return data\n      // return []\n    } catch (error) {\n      console.error(error)\n    }\n  }, [searchURL, results])\n\n  const doSearch = queryString => {\n    const trimmedQuery = queryString.trim()\n    if (trimmedQuery !== '') {\n      setQuery(trimmedQuery)\n      setCurrentPage(1)\n      navigate(`${ basePath }?q=${trimmedQuery}&p=1`)\n    }\n  }\n\n\n  return (\n    <HelxSearchContext.Provider value={{\n      query, setQuery, doSearch, fetchKnowledgeGraphs, fetchStudyVariables, inputRef,\n      error, isLoadingResults,\n      results, totalResults,\n      currentPage, setCurrentPage, perPage: PER_PAGE, pageCount,\n      facets: tempSearchFacets,\n      selectedResult, setSelectedResult,\n    }}>\n      { children }\n      <SearchResultModal\n        result={ selectedResult }\n        visible={ selectedResult !== null}\n        closeHandler={ () => setSelectedResult(null) }\n      />\n    </HelxSearchContext.Provider>\n  )\n}\n","import React, { useEffect, useState } from 'react'\nimport { Button, Form, Input } from 'antd'\nimport { useHelxSearch } from '../'\nimport './form.css'\nimport HeLxLogo from '../../images/helx-logo.png'\n\nexport const SearchForm = () => {\n  const { doSearch, inputRef, query, totalResults } = useHelxSearch()\n  const [searchTerm, setSearchTerm] = useState(query)\n\n  const handleChangeQuery = event => setSearchTerm(event.target.value)\n\n  const handleKeyDown = event => {\n    if (event.keyCode === 13) {\n      doSearch(searchTerm)\n    }\n  }\n\n  // This enables a two-way binding from this component's state (searchTerm) and that provided by the search-context,\n  // ..but only when a new search is executed.\n  // This component maintains the query seen in the input field (named `searchTerm`).\n  // This state (searchTerm) must be explicitly updated to match the context's query when the context's query changes.\n  // (Note that the converse relationship is already handled by the doSearch function.)\n  useEffect(() => setSearchTerm(query), [query])\n\n  return (\n    <Form onFinish={ () => doSearch(searchTerm) } className=\"search-form\">\n      <Form.Item className=\"search-form-logo\"><img src={ HeLxLogo } width=\"100\" /></Form.Item>\n      <Form.Item className=\"search-input\">\n        <Input\n          ref={ inputRef }\n          allowClear\n          autoFocus\n          placeholder=\"Enter search term\"\n          value={ searchTerm }\n          onChange={ handleChangeQuery }\n          onKeyDown={ handleKeyDown }\n        />\n      </Form.Item>\n      <Form.Item>\n        <Button htmlType=\"submit\" type=\"primary\" className=\"search-button\">Search</Button>\n      </Form.Item>\n    </Form>\n  )\n}\n","const biolink_lookup = {\n    \"APO\": \"http://purl.obolibrary.org/obo/APO_\",\n    \"Aeolus\": \"http://translator.ncats.nih.gov/Aeolus_\",\n    \"BIOGRID\": \"http://identifiers.org/biogrid/\",\n    \"BIOSAMPLE\": \"http://identifiers.org/biosample/\",\n    \"BSPO\": \"http://purl.obolibrary.org/obo/BSPO_\",\n    \"CAID\": \"http://reg.clinicalgenome.org/redmine/projects/registry/genboree_registry/by_caid?caid=\",\n    \"CHEBI\": \"http://purl.obolibrary.org/obo/CHEBI_\",\n    \"CHEMBL.COMPOUND\": \"http://identifiers.org/chembl.compound/\",\n    \"CHEMBL.MECHANISM\": \"https://www.ebi.ac.uk/chembl/mechanism/inspect/\",\n    \"CHEMBL.TARGET\": \"http://identifiers.org/chembl.target/\",\n    \"CID\": \"http://pubchem.ncbi.nlm.nih.gov/compound/\",\n    \"CL\": \"http://purl.obolibrary.org/obo/CL_\",\n    \"CLINVAR\": \"http://identifiers.org/clinvar/\",\n    \"CLO\": \"http://purl.obolibrary.org/obo/CLO_\",\n    \"COAR_RESOURCE\": \"http://purl.org/coar/resource_type/\",\n    \"CPT\": \"https://www.ama-assn.org/practice-management/cpt/\",\n    \"CTD\": \"http://translator.ncats.nih.gov/CTD_\",\n    \"ClinVarVariant\": \"http://www.ncbi.nlm.nih.gov/clinvar/variation/\",\n    \"DBSNP\": \"http://identifiers.org/dbsnp/\",\n    \"DGIdb\": \"https://www.dgidb.org/interaction_types\",\n    \"DOID\": \"http://purl.obolibrary.org/obo/DOID_\",\n    \"DRUGBANK\": \"http://identifiers.org/drugbank/\",\n    \"DrugCentral\": \"http://translator.ncats.nih.gov/DrugCentral_\",\n    \"EC\": \"http://www.enzyme-database.org/query.php?ec=\",\n    \"ECTO\": \"http://purl.obolibrary.org/obo/ECTO_\",\n    \"EDAM-DATA\": \"http://edamontology.org/data_\",\n    \"EDAM-FORMAT\": \"http://edamontology.org/format_\",\n    \"EDAM-OPERATION\": \"http://edamontology.org/operation_\",\n    \"EDAM-TOPIC\": \"http://edamontology.org/topic_\",\n    \"EFO\": \"http://identifiers.org/efo/\",\n    \"ENSEMBL\": \"http://identifiers.org/ensembl/\",\n    \"ExO\": \"http://purl.obolibrary.org/obo/ExO_\",\n    \"FAO\": \"http://purl.obolibrary.org/obo/FAO_\",\n    \"FB\": \"http://identifiers.org/fb/\",\n    \"FBcv\": \"http://purl.obolibrary.org/obo/FBcv_\",\n    \"FlyBase\": \"http://flybase.org/reports/\",\n    \"GAMMA\": \"http://translator.renci.org/GAMMA_\",\n    \"GO\": \"http://purl.obolibrary.org/obo/GO_\",\n    \"GOLD.META\": \"http://identifiers.org/gold.meta/\",\n    \"GOP\": \"http://purl.obolibrary.org/obo/go#\",\n    \"GOREL\": \"http://purl.obolibrary.org/obo/GOREL_\",\n    \"GSID\": \"https://scholar.google.com/citations?user=\",\n    \"GTEx\": \"https://www.gtexportal.org/home/gene/\",\n    \"HANCESTRO\": \"http://www.ebi.ac.uk/ancestro/ancestro_\",\n    \"HCPCS\": \"http://purl.bioontology.org/ontology/HCPCS/\",\n    \"HGNC\": \"http://identifiers.org/hgnc/\",\n    \"HGNC.FAMILY\": \"http://identifiers.org/hgnc.family/\",\n    \"HMDB\": \"http://identifiers.org/hmdb/\",\n    \"HP\": \"http://purl.obolibrary.org/obo/HP_\",\n    \"ICD0\": \"http://translator.ncats.nih.gov/ICD0_\",\n    \"ICD10\": \"http://translator.ncats.nih.gov/ICD10_\",\n    \"ICD9\": \"http://translator.ncats.nih.gov/ICD9_\",\n    \"INCHI\": \"http://identifiers.org/inchi/\",\n    \"INCHIKEY\": \"http://identifiers.org/inchikey/\",\n    \"INTACT\": \"http://identifiers.org/intact/\",\n    \"IUPHAR.FAMILY\": \"http://identifiers.org/iuphar.family/\",\n    \"KEGG\": \"http://identifiers.org/kegg/\",\n    \"LOINC\": \"http://loinc.org/rdf/\",\n    \"MEDDRA\": \"http://identifiers.org/meddra/\",\n    \"MESH\": \"http://identifiers.org/mesh/\",\n    \"MGI\": \"http://identifiers.org/mgi/\",\n    \"MI\": \"http://purl.obolibrary.org/obo/MI_\",\n    \"MIR\": \"http://identifiers.org/mir/\",\n    \"MONDO\": \"http://purl.obolibrary.org/obo/MONDO_\",\n    \"MP\": \"http://purl.obolibrary.org/obo/MP_\",\n    \"MSigDB\": \"https://www.gsea-msigdb.org/gsea/msigdb/\",\n    \"MetaCyc\": \"http://translator.ncats.nih.gov/MetaCyc_\",\n    \"NCBIGENE\": \"http://identifiers.org/ncbigene/\",\n    \"NCBITaxon\": \"http://purl.obolibrary.org/obo/NCBITaxon_\",\n    \"NCIT\": \"http://purl.obolibrary.org/obo/NCIT_\",\n    \"NDDF\": \"http://purl.bioontology.org/ontology/NDDF/\",\n    \"NLMID\": \"https://www.ncbi.nlm.nih.gov/nlmcatalog/?term=\",\n    \"OBAN\": \"http://purl.org/oban/\",\n    \"OBOREL\": \"http://purl.obolibrary.org/obo/RO_\",\n    \"OIO\": \"http://www.geneontology.org/formats/oboInOwl#\",\n    \"OMIM\": \"http://purl.obolibrary.org/obo/OMIM_\",\n    \"ORCID\": \"https://orcid.org/\",\n    \"ORPHA\": \"http://www.orpha.net/ORDO/Orphanet_\",\n    \"ORPHANET\": \"http://identifiers.org/orphanet/\",\n    \"PANTHER.FAMILY\": \"http://identifiers.org/panther.family/\",\n    \"PANTHER.PATHWAY\": \"http://identifiers.org/panther.pathway/\",\n    \"PATO-PROPERTY\": \"http://purl.obolibrary.org/obo/pato#\",\n    \"PDQ\": \"https://www.cancer.gov/publications/pdq#\",\n    \"PHARMGKB.DRUG\": \"http://identifiers.org/pharmgkb.drug/\",\n    \"PHARMGKB.PATHWAYS\": \"http://identifiers.org/pharmgkb.pathways/\",\n    \"PHAROS\": \"http://pharos.nih.gov\",\n    \"PMID\": \"http://www.ncbi.nlm.nih.gov/pubmed/\",\n    \"PO\": \"http://purl.obolibrary.org/obo/PO_\",\n    \"POMBASE\": \"http://identifiers.org/pombase/\",\n    \"PR\": \"http://purl.obolibrary.org/obo/PR_\",\n    \"PUBCHEM.COMPOUND\": \"http://identifiers.org/pubchem.compound/\",\n    \"PUBCHEM.SUBSTANCE\": \"http://identifiers.org/pubchem.substance/\",\n    \"PathWhiz\": \"http://smpdb.ca/pathways/#\",\n    \"REACT\": \"http://www.reactome.org/PathwayBrowser/#/\",\n    \"REPODB\": \"http://apps.chiragjpgroup.org/repoDB/\",\n    \"RGD\": \"http://identifiers.org/rgd/\",\n    \"RHEA\": \"http://identifiers.org/rhea/\",\n    \"RNACENTRAL\": \"http://identifiers.org/rnacentral/\",\n    \"RO\": \"http://purl.obolibrary.org/obo/RO_\",\n    \"RTXKG1\": \"http://kg1endpoint.rtx.ai/\",\n    \"RXNORM\": \"http://purl.bioontology.org/ontology/RXNORM/\",\n    \"ResearchID\": \"https://publons.com/researcher/\",\n    \"SEMMEDDB\": \"https://skr3.nlm.nih.gov/SemMedDB\",\n    \"SGD\": \"http://identifiers.org/sgd/\",\n    \"SIO\": \"http://semanticscience.org/resource/SIO_\",\n    \"SMPDB\": \"http://identifiers.org/smpdb/\",\n    \"SNOMEDCT\": \"http://identifiers.org/snomedct/\",\n    \"SNPEFF\": \"http://translator.ncats.nih.gov/SNPEFF_\",\n    \"ScopusID\": \"https://www.scopus.com/authid/detail.uri?authorId=\",\n    \"TAXRANK\": \"http://purl.obolibrary.org/obo/TAXRANK_\",\n    \"UBERGRAPH\": \"http://translator.renci.org/ubergraph-axioms.ofn#\",\n    \"UBERON\": \"http://purl.obolibrary.org/obo/UBERON_\",\n    \"UBERON_CORE\": \"http://purl.obolibrary.org/obo/uberon/core#\",\n    \"UMLS\": \"http://identifiers.org/umls/\",\n    \"UMLSSC\": \"https://metamap.nlm.nih.gov/Docs/SemanticTypes_2018AB.txt/code#\",\n    \"UMLSSG\": \"https://metamap.nlm.nih.gov/Docs/SemGroups_2018.txt/group#\",\n    \"UMLSST\": \"https://metamap.nlm.nih.gov/Docs/SemanticTypes_2018AB.txt/type#\",\n    \"UNII\": \"http://identifiers.org/unii/\",\n    \"UPHENO\": \"http://purl.obolibrary.org/obo/UPHENO_\",\n    \"UniProtKB\": \"http://identifiers.org/uniprot/\",\n    \"VANDF\": \"https://www.nlm.nih.gov/research/umls/sourcereleasedocs/current/VANDF/\",\n    \"VMC\": \"https://github.com/ga4gh/vr-spec/\",\n    \"WB\": \"http://identifiers.org/wb/\",\n    \"WBPhenotype\": \"http://purl.obolibrary.org/obo/WBPhenotype_\",\n    \"WBVocab\": \"http://bio2rdf.org/wormbase_vocabulary\",\n    \"WIKIDATA\": \"https://www.wikidata.org/wiki/\",\n    \"WIKIDATA_PROPERTY\": \"https://www.wikidata.org/wiki/Property:\",\n    \"WIKIPATHWAYS\": \"http://identifiers.org/wikipathways/\",\n    \"WormBase\": \"https://www.wormbase.org/get?name=\",\n    \"ZFIN\": \"http://identifiers.org/zfin/\",\n    \"ZP\": \"http://purl.obolibrary.org/obo/ZP_\",\n    \"alliancegenome\": \"https://www.alliancegenome.org/\",\n    \"biolink\": \"https://w3id.org/biolink/vocab/\",\n    \"biolinkml\": \"https://w3id.org/biolink/biolinkml/\",\n    \"chembio\": \"http://translator.ncats.nih.gov/chembio_\",\n    \"dcterms\": \"http://purl.org/dc/terms/\",\n    \"dictyBase\": \"http://dictybase.org/gene/\",\n    \"doi\": \"https://doi.org/\",\n    \"fabio\": \"http://purl.org/spar/fabio/\",\n    \"foaf\": \"http://xmlns.com/foaf/0.1/\",\n    \"foodb.compound\": \"http://foodb.ca/compounds/\",\n    \"gff3\": \"https://github.com/The-Sequence-Ontology/Specifications/blob/master/gff3.md#\",\n    \"gpi\": \"https://github.com/geneontology/go-annotation/blob/master/specs/gpad-gpi-2-0.md#\",\n    \"gtpo\": \"https://rdf.guidetopharmacology.org/ns/gtpo#\",\n    \"hetio\": \"http://translator.ncats.nih.gov/hetio_\",\n    \"interpro\": \"https://www.ebi.ac.uk/interpro/entry/\",\n    \"isbn\": \"https://www.isbn-international.org/identifier/\",\n    \"isni\": \"https://isni.org/isni/\",\n    \"issn\": \"https://portal.issn.org/resource/ISSN/\",\n    \"medgen\": \"https://www.ncbi.nlm.nih.gov/medgen/\",\n    \"oboformat\": \"http://www.geneontology.org/formats/oboInOWL#\",\n    \"pav\": \"http://purl.org/pav/\",\n    \"prov\": \"http://www.w3.org/ns/prov#\",\n    \"qud\": \"http://qudt.org/1.1/schema/qudt#\",\n    \"rdf\": \"http://www.w3.org/1999/02/22-rdf-syntax-ns#\",\n    \"rdfs\": \"http://www.w3.org/2000/01/rdf-schema#\",\n    \"skos\": \"https://www.w3.org/TR/skos-reference/#\",\n    \"wgs\": \"http://www.w3.org/2003/01/geo/wgs84_pos\",\n    \"xsd\": \"http://www.w3.org/2001/XMLSchema#\",\n    \"@vocab\": \"https://w3id.org/biolink/vocab/\"\n}\n\nexport const kgLink = {\n    get_curie_purl: (curie) => {\n        const splitCurrie = curie.split(':')\n        const prefix = splitCurrie[0]\n        const suffix = splitCurrie[1]\n        var matchedPrefix = Object.keys(biolink_lookup).find(k => k === prefix)\n        if (matchedPrefix) {\n            return biolink_lookup[prefix] + suffix\n        } else {\n            return null\n        }\n    }\n}","import React from 'react'\nimport { Link as ReactLink } from '@reach/router'\n\nexport const ExternalLink = ({ to, children, ...props }) => {\n  return (\n    <a\n      href={ to }\n      target=\"_blank\"\n      rel=\"noopener noreferrer\"\n    >{ children }</a>\n  )\n}\n\nexport const Link = ({ to, children, ...props }) => {\n  const mailtoPattern = new RegExp(/^mailto:/)\n  const externalUrlPattern = new RegExp(/^https?:\\/\\//)\n  const externalUrlMatch = externalUrlPattern.exec(to)\n  const mailtoMatch = mailtoPattern.exec(to)\n  const LinkComponent = externalUrlMatch || mailtoMatch ? ExternalLink : ReactLink\n  return <LinkComponent to={to} {...props}>{children}</LinkComponent>\n}","import React, { Fragment, useEffect, useState } from 'react'\nimport { kgLink } from '../kg-links'\nimport { Link } from '../link'\nimport './knowledge-graphs.css'\n\nconst KnowledgeGraph = ({ graph }) => {\n  const [interactions, setInteractions] = useState([])\n\n  useEffect(() => {\n    if (graph) {\n      graph.nodes.forEach(sourceNode => {\n        const outgoingEdge = graph.edges.find(edge => edge.source_id === sourceNode.id)\n        if (outgoingEdge) {\n          const targetNode = graph.nodes.find(node => node.id === outgoingEdge.target_id)\n          let newInteraction = { source: { name: sourceNode.name, id: sourceNode.id }, type: outgoingEdge.type, target: { name: targetNode.name, id: targetNode.id }, publications: outgoingEdge.publications }\n          setInteractions(interactions => [...interactions, newInteraction])\n        }\n      })\n    }\n  }, [graph])\n\n  return interactions.map((interaction, i) => (\n    <Fragment key={ `kg-${i}` }>\n      <div className=\"source-label\"><Link to={kgLink.get_curie_purl(interaction.source.id)}>{interaction.source.name}</Link></div>\n      <div />\n      <div className=\"target-label\"><Link to={kgLink.get_curie_purl(interaction.target.id)}>{interaction.target.name}</Link></div>\n\n      <div className=\"source-node\"><span className=\"node\" /></div>\n      <div className=\"edge\">\n        <div className=\"edge-type\">{interaction.type}</div>\n        <div className=\"edge-references\">\n          {\n            interaction.publications.map((publication, i) => (\n              <Fragment key={`${interaction.source}-pub-${i + 1}`}>\n                [<Link to={ `https://pubmed.ncbi.nlm.nih.gov/${ publication.replace(/^PMID:/, '') }`}>{i + 1}</Link>]\n              </Fragment>\n            ))\n          }\n        </div>\n      </div>\n      <div className=\"target-node\"><span className=\"node\" /></div>\n    </Fragment>\n  ))\n}\n\nconst NoKnowledgeGraphsMessage = () => {\n  return (\n    <div>No Graphs Found</div>\n  )\n}\n\nexport const KnowledgeGraphs = ({ graphs }) => {\n  if (graphs.length) {\n    return (\n      <div className=\"interactions-grid\">\n        <div className=\"column-title\">Ontological Term)</div>\n        <div className=\"column-title\">Interaction Type</div>\n        <div className=\"column-title\">Linked Term</div>\n        { graphs.map(graph => <KnowledgeGraph graph={graph} />)}\n      </div>\n    )\n  }\n\n  return <NoKnowledgeGraphsMessage />\n}","import React, { Fragment, useState, useMemo } from 'react'\nimport { Link } from '../link'\nimport { Radio, notification, Spin, Tooltip, Typography } from 'antd'\nimport {\n  LinkOutlined as LinkIcon,\n  TableOutlined as GridViewIcon,\n  UnorderedListOutlined as ListViewIcon,\n} from '@ant-design/icons'\nimport { PaginationTray, SearchResultCard, SearchResultModal, useHelxSearch } from '../'\nimport './results.css'\n\nconst { Text } = Typography\n\nconst GRID = 'GRID'\nconst LIST = 'LIST'\n\nexport const SearchResults = () => {\n  const { basePath, query, results, totalResults, perPage, currentPage, pageCount, isLoadingResults, error, setSelectedResult } = useHelxSearch()\n  const [layout, setLayout] = useState(GRID)\n\n  const NotifyLinkCopied = () => {\n    notification.open({ key: 'key', message: 'Link copied to clipboard'})\n    navigator.clipboard.writeText(window.location.href)\n  }\n\n  const handleChangeLayout = event => setLayout(event.target.value)\n\n  const MemoizedResultsHeader = useMemo(() => (\n    <div className=\"header\">\n      <Text>{ totalResults } results for \"{ query }\" ({ pageCount } page{ pageCount > 1 && 's' })</Text> \n      <Tooltip title=\"Shareable link\" placement=\"top\">\n        <Link to={ `${ basePath }?q=${ query }&p=${ currentPage }` } onClick={NotifyLinkCopied}><LinkIcon /></Link>\n      </Tooltip>\n      <Tooltip title=\"Toggle Layout\" placement=\"top\">\n        <Radio.Group value={ layout } onChange={ handleChangeLayout }>\n          <Radio.Button value={ GRID }><GridViewIcon /></Radio.Button>\n          <Radio.Button value={ LIST }><ListViewIcon /></Radio.Button>\n        </Radio.Group>\n      </Tooltip>\n    </div>\n  ), [currentPage, layout, pageCount, totalResults, query])\n\n  if (isLoadingResults) {\n    return <Spin style={{ display: 'block', margin: '4rem' }} />\n  }\n\n  return (\n    <Fragment>\n\n      { error && <span>{ error.message }</span> }\n\n      {\n        query && !error.message && (\n          <div className=\"results\">\n            { results.length >= 1 && MemoizedResultsHeader }\n\n            <div className={ layout === GRID ? 'results-list grid' : 'results-list list' }>\n              {\n                results.map((result, i) => {\n                  const index = (currentPage - 1) * perPage + i + 1\n                  return (\n                    <SearchResultCard\n                      key={ `${query}_result_${index}` }\n                      index={ index }\n                      result={ result }\n                      openModalHandler={ () => setSelectedResult(result) }\n                    />\n                  )\n                })\n              }\n            </div>\n          </div>\n        )\n      }\n\n      <br/><br/>\n\n      { pageCount > 1 && <PaginationTray /> }\n\n    </Fragment>\n  )\n}\n","import { Card, Space, Spin } from 'antd'\nimport { useHelxSearch } from '../'\n\nconst { Meta } = Card\n\nexport const OverviewTab = ({ result }) => {\n  const { query } = useHelxSearch()\n\n  return (\n    <Space direction=\"vertical\" className=\"tab-content\">\n      <Meta description={ result.description } className=\"description\" />\n    </Space>\n  )\n}\n","import { useEffect, useState } from 'react'\nimport { List, Spin, Space, Tag, Typography } from 'antd'\nimport { useHelxSearch } from '../'\nimport { Link } from '../link'\n\nconst { Text } = Typography\nconst { CheckableTag: CheckableFacet } = Tag\n\nexport const StudiesTab = ({ result }) => {\n  const { query, fetchStudyVariables } = useHelxSearch()\n  const [studyVariables, setStudyVariables] = useState([])\n  const [facets, setFacets] = useState([])\n  const [selectedFacets, setSelectedFacets] = useState([])\n  const [loading, setLoading] = useState(true)\n\n  const handleSelectFacet = (facet, checked) => {\n    const newSelection = new Set(selectedFacets)\n    if (newSelection.has(facet)) {\n      newSelection.delete(facet)\n    } else {\n      newSelection.add(facet)\n    }\n    setSelectedFacets([...newSelection])\n  }\n\n  useEffect(() => {\n    const getVars = async () => {\n      const { result: data } = await fetchStudyVariables(result.id, query)\n      setStudyVariables(data)\n      setFacets(Object.keys(data))\n      setSelectedFacets(Object.keys(data))\n      setLoading(false)\n    }\n    getVars()\n  }, [fetchStudyVariables])\n\n  if (loading) {\n    return <Spin />\n  }\n  \n  return (\n    <Space direction=\"vertical\" className=\"tab-content\">\n      <Space direction=\"horizontal\" size=\"small\">\n        {\n          facets.map(facet => studyVariables[facet] && (\n            <CheckableFacet\n              key={ `search-facet-${ facet }` }\n              checked={ selectedFacets.includes(facet) }\n              onChange={ checked => handleSelectFacet(facet, checked) }\n              children={ `${ facet } (${studyVariables[facet].length})` }\n            />\n          ))\n        }\n      </Space>\n      <List\n        className=\"studies-list\"\n        dataSource={\n          Object.keys(studyVariables)\n            .filter(facet => selectedFacets.includes(facet))\n            .reduce((arr, facet) => [...arr, ...studyVariables[facet]], [])\n            .sort((s, t) => s.c_name < t.c_name ? -1 : 1)\n        }\n        renderItem={ item => (\n          <List.Item>\n            <div className=\"studies-list-item\">\n              <Text className=\"study-name\">\n                { item.c_name }{ ` ` }\n                (<Link to={ item.c_link }>{ item.c_id }</Link>)\n              </Text>\n              <Text className=\"variables-count\">{ item.elements.length } variable{ item.elements.length === 1 ? '' : 's' }</Text>\n            </div>\n          </List.Item>\n        ) }\n      />\n    </Space>\n  )\n}\n","import { useEffect, useState } from 'react'\nimport { Space, Spin } from 'antd'\nimport { KnowledgeGraphs, useHelxSearch } from '../'\n\nexport const KnowledgeGraphsTab = ({ result }) => {\n  const { query, fetchKnowledgeGraphs } = useHelxSearch()\n  const [graphs, setGraphs] = useState([])\n  const [loading, setLoading] = useState(true)\n\n  useEffect(() => {\n    const getKgs = async () => {\n      const kgs = await fetchKnowledgeGraphs(result.id)\n      setGraphs(kgs)\n      setLoading(false)\n    }\n    getKgs()\n  }, [fetchKnowledgeGraphs, query])\n\n  if (loading) {\n    return <Spin />\n  }\n\n  return (\n    <Space direction=\"vertical\" className=\"tab-content\">\n      <KnowledgeGraphs graphs={ graphs } />\n    </Space>\n  )\n}\n","import { Fragment, useState, useEffect } from 'react'\nimport PropTypes from 'prop-types'\nimport { Link } from '../link'\nimport { Card, List, Space, Tag, Typography } from 'antd'\nimport { ExpandOutlined as ViewIcon } from '@ant-design/icons'\nimport { KnowledgeGraphs, useHelxSearch } from '../'\nimport { OverviewTab } from './overview-tab'\nimport { StudiesTab } from './studies-tab'\nimport { KnowledgeGraphsTab } from './knowledge-graphs-tab'\nimport './result-card.css'\n\nconst { Meta } = Card\nconst { CheckableTag: CheckableFacet } = Tag\nconst { Text } = Typography\n\nexport const SearchResultCard = ({ index, result, openModalHandler }) => {\n  const [currentTab, setCurrentTab] = useState('overview')\n\n  const tabs = {\n    'overview': { title: 'Overview',         content: <OverviewTab result={ result } /> },\n    'studies':  { title: `Studies`,          content: <StudiesTab result={ result } /> },\n    'kgs':      { title: `Knowledge Graphs`, content: <KnowledgeGraphsTab result={ result } /> },\n  }\n\n  const tabList = Object.keys(tabs).map(key => tabs[key].content ? ({ key, tab: tabs[key].title }) : null).filter(tab => tab !== null)\n  const tabContents = Object.keys(tabs).reduce((obj, key) => tabs[key].content ? ({ ...obj, [key]: tabs[key].content }) : obj, {})\n\n  return (\n    <Fragment>\n      <Card\n        className=\"result-card\"\n        title={`${result.name} (${result.type})`}\n        tabList={tabList}\n        tabProps={{size: 'small'}}\n        activeTabKey={currentTab}\n        onTabChange={key => setCurrentTab(key)}\n        extra={ <ViewIcon onClick={ openModalHandler } /> }\n        actions={ [<br />] }\n      >\n        { tabContents[currentTab] }\n      </Card>\n   </Fragment>\n  )\n}\n\nSearchResultCard.propTypes = {\n  index: PropTypes.number.isRequired,\n  result: PropTypes.object.isRequired,\n  openModalHandler: PropTypes.func.isRequired,\n}","import { useEffect, useState } from 'react'\nimport { List, Menu, Modal, Space, Tag, Typography } from 'antd'\nimport './result-modal.css'\nimport { KnowledgeGraphs, useHelxSearch } from '../'\nimport { Link } from '../link'\n\nconst { Text, Title } = Typography\nconst { CheckableTag: CheckableFacet } = Tag\n\nconst OverviewTab = ({ result }) => {\n  return (\n    <Space direction=\"vertical\">\n      <Title level={ 4 }>Overview</Title>\n      <Text>{ result.description }</Text>\n    </Space>\n  )\n}\n\nconst StudiesTab = ({ studies }) => {\n  const [facets, setFacets] = useState([])\n  const [selectedFacets, setSelectedFacets] = useState([])\n  const [loading, setLoading] = useState(true)\n\n  const handleSelectFacet = (facet, checked) => {\n    const newSelection = new Set(selectedFacets)\n    if (newSelection.has(facet)) {\n      newSelection.delete(facet)\n    } else {\n      newSelection.add(facet)\n    }\n    setSelectedFacets([...newSelection])\n  }\n\n  useEffect(() => {\n    setFacets(Object.keys(studies))\n    setSelectedFacets(Object.keys(studies))\n  }, [studies])\n\n  return (\n    <Space direction=\"vertical\">\n      <Title level={ 4 }>Studies</Title>\n      <Space direction=\"horizontal\" size=\"small\">\n        {\n          facets.map(facet => studies[facet] && (\n            <CheckableFacet\n              key={ `search-facet-${ facet }` }\n              checked={ selectedFacets.includes(facet) }\n              onChange={ checked => handleSelectFacet(facet, checked) }\n              children={ `${ facet } (${studies[facet].length})` }\n            />\n          ))\n        }\n      </Space>\n      <List\n        className=\"studies-list\"\n        dataSource={\n          Object.keys(studies)\n            .filter(facet => selectedFacets.includes(facet))\n            .reduce((arr, facet) => [...arr, ...studies[facet]], [])\n            .sort((s, t) => s.c_name < t.c_name ? -1 : 1)\n        }\n        renderItem={ item => (\n          <List.Item>\n            <div className=\"studies-list-item\">\n              <Text className=\"study-name\">\n                { item.c_name }{ ` ` }\n                (<Link to={ item.c_link }>{ item.c_id }</Link>)\n              </Text>\n              <Text className=\"variables-count\">{ item.elements.length } variable{ item.elements.length === 1 ? '' : 's' }</Text>\n            </div>\n          </List.Item>\n        ) }\n      />\n   </Space>\n  )\n}\n\nconst KnowledgeGraphsTab = ({ graphs }) => {\n  return (\n    <Space direction=\"vertical\">\n      <Title level={ 4 }>Knowledge Graphs</Title>\n      <KnowledgeGraphs graphs={ graphs } />\n    </Space>    \n  )\n}\n\n\nexport const SearchResultModal = ({ result, visible, closeHandler }) => {\n  const [currentTab, setCurrentTab] = useState('overview')\n  const { fetchKnowledgeGraphs, fetchStudyVariables, query } = useHelxSearch()\n  const [graphs, setGraphs] = useState([])\n  const [studies, setStudies] = useState([])\n\n  useEffect(() => {\n    setCurrentTab('overview')\n    if (!result) {\n      return\n    }\n    const getVars = async () => {\n      const { result: data } = await fetchStudyVariables(result.id, query)\n      setStudies(data)\n    }\n    const getKgs = async () => {\n      const kgs = await fetchKnowledgeGraphs(result.id)\n      setGraphs(kgs)\n    }\n    getVars()\n    getKgs()\n  }, [fetchKnowledgeGraphs, fetchStudyVariables, result, query])\n\n  if (!result) {\n    return null\n  }\n\n  const tabs = {\n    'overview': { title: 'Overview',         content: <OverviewTab result={ result } />, },\n    'studies':  { title: `Studies`,          content: <StudiesTab studies={ studies } />, },\n    'kgs':      { title: `Knowledge Graphs`, content: <KnowledgeGraphsTab graphs={ graphs } />, },\n  }\n\n  return (\n    <Modal\n      title={ `${ result.name } (${ result.type })` }\n      visible={ visible }\n      onOk={ closeHandler }\n      okText=\"Close\"\n      onCancel={ closeHandler }\n      width={ 800 }\n      style={{ top: 135 }}\n      bodyStyle={{ padding: `0`, minHeight: `50vh` }}\n      cancelButtonProps={{ hidden: true }}\n    >\n      <Space direction=\"horizontal\" align=\"start\">\n        <Menu\n          style={{ width: 256, height: '100%' }}\n          defaultSelectedKeys={ ['overview'] }\n          mode=\"inline\"\n          theme=\"light\"\n        >\n          <Menu.Item key=\"overview\" onClick={ () => setCurrentTab('overview') }>Overview</Menu.Item>\n          <Menu.Item key=\"studies\" onClick={ () => setCurrentTab('studies') }>Studies</Menu.Item>\n          <Menu.Item key=\"kgs\" onClick={ () => setCurrentTab('kgs') }>Knowledge Graphs</Menu.Item>\n        </Menu>\n        <div className=\"modal-content-container\" children={ tabs[currentTab].content } />\n      </Space>\n    </Modal>\n  )\n}\n","import PropTypes from 'prop-types'\nimport { List } from 'antd'\nimport { Link } from './link'\n\nexport const VariablesList = ({ studyId, variables }) => {\n  return (\n    <List\n      header=\"Variables\"\n      dataSource={variables}\n      renderItem={variable => (\n        <List.Item key={variable.id}>\n          <Link to={'variable.e_link'}>{'variable.id'}: {'variable.id'}</Link>\n        </List.Item>\n      )}\n    />\n  )\n}\n\nVariablesList.propTypes = {\n  studyId: PropTypes.string.isRequired,\n  variables: PropTypes.arrayOf(PropTypes.shape({\n    id: PropTypes.string.isRequired,\n    e_link: PropTypes.string.isRequired,\n  })).isRequired,\n}\n"],"sourceRoot":""}